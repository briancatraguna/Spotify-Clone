(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(8),s=n.n(r),i=(n(73),n(74),n(51),n(23)),o=n.n(i),l=n(30),u=n(19),j=(n(75),n(3)),b=function(e){var t=e.title;return Object(j.jsx)("h1",{className:"songsTitle",children:t})},p=(n(77),function(e){var t,n=e.status,a=e.pushToSelectedList,r=e.deleteFromSelectedList,s=e.id,i=e.imgUrl,o=e.songTitle,l=e.artistLink,b=e.artist,p=Object(c.useState)(n),d=Object(u.a)(p,2),h=d[0],O=d[1],f=function(){O(!h),h?r(s):a(s)};return t=!1===h?Object(j.jsx)("button",{className:"selectButton",onClick:f,children:"Select"}):Object(j.jsx)("button",{className:"deselectButton",onClick:f,children:"Deselect"}),Object(j.jsxs)("div",{className:"itemContainer",children:[Object(j.jsx)("img",{src:i,alt:"".concat(o)}),Object(j.jsx)("p",{className:"songTitle",children:o}),Object(j.jsx)("a",{className:"artist",href:l,children:b}),Object(j.jsx)("br",{}),t]})}),d=n(28),h=n.n(d),O=(n(96),n(14)),f=n(137),x=n(138),v=function(e){var t=e.getData,n=Object(O.c)((function(e){return e.token})).accessTokenBearer,a=Object(c.useState)(""),r=Object(u.a)(a,2),s=r[0],i=r[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(f.a,{className:"textField",label:"Type in your album",type:"text",value:s,onChange:function(e){i(e.target.value)}}),Object(j.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){var e=s;(function(){var c=Object(l.a)(o.a.mark((function c(){var a;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,h.a.get("".concat("https://api.spotify.com/v1/search?q=").concat(e,"&type=track&limit=30"),{headers:{Authorization:n}});case 3:a=c.sent,t(a.data),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),console.error(c.t0);case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(){return c.apply(this,arguments)}})()()},children:"Search"})]})},m=(n(100),function(e){var t=e.userId,n=e.selectedTracks,a=Object(O.c)((function(e){return e.token})).accessTokenBearer,r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],b=s[1],p=Object(c.useState)(""),d=Object(u.a)(p,2),v=d[0],m=d[1],k=function(){var e=Object(l.a)(o.a.mark((function e(c){var r,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,r="https://api.spotify.com/v1/users/".concat(t,"/playlists"),e.next=5,h.a.post(r,{name:i,description:v,collaborative:!1,public:!1},{headers:{Authorization:a,Accept:"application/json","Content-Type":"application/json"}});case 5:return s=e.sent,l=s.data.id,e.next=9,h()({method:"post",url:"https://api.spotify.com/v1/playlists/".concat(l,"/tracks"),data:{uris:n},headers:{Authorization:a,Accept:"application/json","Content-Type":"application/json"}});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Create Playlist"}),Object(j.jsxs)("form",{onSubmit:k,children:[Object(j.jsx)(f.a,{className:"textField",variant:"outlined",label:"Title",onChange:function(e){b(e.target.value)}}),Object(j.jsx)(f.a,{className:"textField",variant:"outlined",label:"Description",onChange:function(e){m(e.target.value)}}),Object(j.jsx)(x.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})]})}),k=(n(101),function(){var e,t=Object(O.c)((function(e){return e.token})).accessTokenBearer,n=Object(c.useState)(null),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)([""]),d=Object(u.a)(i,2),f=d[0],x=d[1],k=Object(c.useState)(""),g=Object(u.a)(k,2),y=g[0],T=g[1],S=function(e){var t=f;t.push(e),x(t)},C=function(e){for(var t=f,n=0;n<f.length;n++)f[n]===e&&t.splice(n,1);x(t)},B=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://api.spotify.com/v1/me?",{headers:{Authorization:t}});case 3:n=e.sent,T(n.data.id),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return null!=r&&(e=r.tracks.items.map((function(e){var t=function(e){for(var t=!1,n=0;n<f.length;n++)f[n]===e&&(t=!0);return t}(e.uri);return Object(j.jsx)(p,{imgUrl:e.album.images[0].url,songTitle:e.album.name,artist:e.artists[0].name,artistLink:e.artists[0].external_urls.spotify,id:e.uri,status:t,pushToSelectedList:S,deleteFromSelectedList:C},e.id)}))),B(),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(m,{userId:y,selectedTracks:f}),Object(j.jsx)(b,{title:"Search your favorite albums!"}),Object(j.jsx)("br",{}),Object(j.jsx)(v,{getData:function(e){s(e)}}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"grid-container",children:e})]})}),g=n(42),y=Object(g.b)({name:"token",initialState:{accessTokenBearer:""},reducers:{getToken:function(e){var t=new URLSearchParams(window.location.hash.substring(1)).get("access_token"),n="Bearer ".concat(t);e.accessTokenBearer=n}}}),T=y.actions.getToken,S=y.reducer,C=Object(g.a)({reducer:{token:S}}),B=n(11),N=n(64),w=(n(102),function(){var e="https://accounts.spotify.com/authorize?client_id=".concat("2d0b75886069404b84a9afa284b424bd","&response_type=token&redirect_uri=").concat("http://localhost:3000/callback","&scope=playlist-modify-private");return Object(j.jsx)("a",{href:e,children:Object(j.jsx)(x.a,{variant:"contained",color:"primary",className:"button",children:"Login"})})}),L=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(w,{})})},F=n(136);var A=function(){var e=Object(O.c)((function(e){return e.token})).accessTokenBearer,t=Object(O.b)();return Object(j.jsx)(F.a,{children:Object(j.jsx)(O.a,{store:C,children:Object(j.jsx)(N.a,{children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(B.d,{children:[Object(j.jsx)(B.b,{exact:!0,path:"/create-playlist",children:Object(j.jsx)(k,{})}),Object(j.jsx)(B.b,{exact:!0,path:"/",children:function(){var t;return"Bearer null"==e||""==e?(console.log("Current access token state: ".concat(e)),t=Object(j.jsx)(L,{})):t=Object(j.jsx)(B.a,{to:"/create-playlist"}),t}}),Object(j.jsx)(B.b,{path:"/callback",children:function(){var n;return t(T()),"Bearer null"!=e||""!=e?(console.log("Current access token state: ".concat(e)),n=Object(j.jsx)(B.a,{to:"/create-playlist"})):n=Object(j.jsx)(L,{}),n}})]})})})})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,139)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(O.a,{store:C,children:Object(j.jsx)(A,{})})}),document.getElementById("root")),D()},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){},96:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.1ce58316.chunk.js.map