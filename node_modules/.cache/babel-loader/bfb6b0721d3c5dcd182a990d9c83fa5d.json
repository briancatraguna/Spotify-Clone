{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dennyrthaher/Documents/generasi-gigih-homework/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dennyrthaher/Documents/generasi-gigih-homework/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dennyrthaher/Documents/generasi-gigih-homework/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState}from'react';import axios from'axios';import'./style.css';import{useSelector}from'react-redux';import{Button,TextField}from'@material-ui/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBar=function SearchBar(_ref){var getData=_ref.getData;var _useSelector=useSelector(function(state){return state.token;}),accessTokenBearer=_useSelector.accessTokenBearer;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),textInput=_useState2[0],setTextInput=_useState2[1];var handleChange=function handleChange(e){setTextInput(e.target.value);};var handleSearch=function handleSearch(){var query=textInput;var BASE_URL=\"https://api.spotify.com/v1/search?q=\";var getSpotifySearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(BASE_URL).concat(query,\"&type=track&limit=30\"),{headers:{'Authorization':accessTokenBearer}});case 3:response=_context.sent;getData(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getSpotifySearch(){return _ref2.apply(this,arguments);};}();getSpotifySearch();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TextField,{className:\"textField\",label:\"Type in your album\",type:\"text\",value:textInput,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleSearch,children:\"Search\"})]});};export default SearchBar;","map":{"version":3,"sources":["/Users/dennyrthaher/Documents/generasi-gigih-homework/my-app/src/components/SearchBar/index.tsx"],"names":["React","useState","axios","useSelector","Button","TextField","SearchBar","getData","state","token","accessTokenBearer","textInput","setTextInput","handleChange","e","target","value","handleSearch","query","BASE_URL","getSpotifySearch","get","headers","response","data","console","error"],"mappings":"shBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAqC,OAArC,CACA,MAAO,aAAP,CACA,OAASC,WAAT,KAA4B,aAA5B,CAEA,OAASC,MAAT,CAAiBC,SAAjB,KAAkC,mBAAlC,C,wFAMA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAsB,IAApBC,CAAAA,OAAoB,MAApBA,OAAoB,CAEpC,iBAA4BJ,WAAW,CAAC,SAACK,KAAD,QAAgBA,CAAAA,KAAK,CAACC,KAAtB,EAAD,CAAvC,CAAOC,iBAAP,cAAOA,iBAAP,CAEA,cAAiCT,QAAQ,CAAC,EAAD,CAAzC,wCAAOU,SAAP,eAAiBC,YAAjB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAY,CAC7BF,YAAY,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ,CACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,GAAMC,CAAAA,KAAa,CAAGP,SAAtB,CACA,GAAMQ,CAAAA,QAAgB,CAAG,sCAAzB,CACA,GAAMC,CAAAA,gBAAgB,2FAAG,sLAE0BlB,CAAAA,KAAK,CAACmB,GAAN,WAAaF,QAAb,SAAwBD,KAAxB,yBAAoD,CAC3FI,OAAO,CAAE,CACL,gBAAiBZ,iBADZ,CADkF,CAApD,CAF1B,QAEXa,QAFW,eAOjBhB,OAAO,CAACgB,QAAQ,CAACC,IAAV,CAAP,CAPiB,+EASjBC,OAAO,CAACC,KAAR,cATiB,oEAAH,kBAAhBN,CAAAA,gBAAgB,2CAAtB,CAYAA,gBAAgB,GACnB,CAhBD,CAkBA,mBACI,oCACI,KAAC,SAAD,EAAW,SAAS,CAAC,WAArB,CAAiC,KAAK,CAAC,oBAAvC,CAA4D,IAAI,CAAC,MAAjE,CAAwE,KAAK,CAAET,SAA/E,CAA0F,QAAQ,CAAEE,YAApG,EADJ,cAEI,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,OAAO,CAAEI,YAArD,oBAFJ,GADJ,CAMH,CAlCD,CAoCA,cAAeX,CAAAA,SAAf","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport axios, { AxiosResponse } from 'axios';\nimport './style.css';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Button, TextField } from '@material-ui/core';\n\ntype Props = {\n    getData: any\n}\n\nconst SearchBar = ({getData}: Props) => {\n\n    const {accessTokenBearer} = useSelector((state: any) => state.token)\n\n    const [textInput,setTextInput] = useState(\"\");\n\n    const handleChange = (e: any) => {\n        setTextInput(e.target.value);\n    }\n\n    const handleSearch = () => {\n        const query: string = textInput;\n        const BASE_URL: string = \"https://api.spotify.com/v1/search?q=\"\n        const getSpotifySearch = async() => {\n            try {\n                const response: AxiosResponse<any> = await axios.get(`${BASE_URL}${query}&type=track&limit=30`,{\n                    headers: {\n                        'Authorization': accessTokenBearer\n                    }\n                })\n                getData(response.data);\n            } catch(error){\n                console.error(error);\n            }\n        }\n        getSpotifySearch();\n    }\n\n    return(\n        <div>\n            <TextField className=\"textField\" label=\"Type in your album\" type=\"text\" value={textInput} onChange={handleChange}></TextField>\n            <Button variant=\"contained\" color=\"primary\" onClick={handleSearch}>Search</Button>\n        </div>\n    );\n}\n\nexport default SearchBar;\n\nSearchBar.propTypes = {\n    getData: PropTypes.any\n}"]},"metadata":{},"sourceType":"module"}